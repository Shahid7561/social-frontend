(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{b8Qw:function(r,o,e){"use strict";e.r(o),e.d(o,"routes",(function(){return M})),e.d(o,"SignInModule",(function(){return G}));var t=e("ofXK"),n=e("tyNb"),i=e("3Pt+"),s=e("PCNd"),a=e("VAss"),c=e("AytR"),m=e("VHvi"),l=e("ahC7"),u=e("fXoL"),g=e("dNgK"),b=e("Wp6s"),d=e("XiUz"),p=e("kmnG"),f=e("qFsG"),h=e("bTqV"),v=e("NFeN"),w=e("Qu3c"),C=e("znSr"),F=function(r,o,e,t){return new(e||(e=Promise))((function(n,i){function s(r){try{c(t.next(r))}catch(o){i(o)}}function a(r){try{c(t.throw(r))}catch(o){i(o)}}function c(r){var o;r.done?n(r.value):(o=r.value,o instanceof e?o:new e((function(r){r(o)}))).then(s,a)}c((t=t.apply(r,o||[])).next())}))};const T=["loginRef"];function U(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"Email is required"),u.Tb())}function I(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"Invalid email address"),u.Tb())}function P(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"Password is required"),u.Tb())}function E(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"Password isn't long enough, minimum of 6 characters"),u.Tb())}function N(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"First Name is required"),u.Tb())}function B(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"First Name isn't long enough, minimum of 3 characters"),u.Tb())}function q(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"Last Name is required"),u.Tb())}function S(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"Last Name isn't long enough, minimum of 3 characters"),u.Tb())}function k(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"Email is required"),u.Tb())}function x(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"Invalid email address"),u.Tb())}function y(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"User Name is required"),u.Tb())}function V(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"User Name isn't long enough, minimum of 3 characters"),u.Tb())}function H(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"Password is required"),u.Tb())}function L(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"Password isn't long enough, minimum of 6 characters"),u.Tb())}function A(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"Confirm Password is required"),u.Tb())}function O(r,o){1&r&&(u.Ub(0,"mat-error"),u.Ec(1,"Passwords do not match"),u.Tb())}const M=[{path:"",component:(()=>{class r{constructor(r,o,e,t,n,i){this.formBuilder=o,this.commonService=e,this.authService=t,this.router=n,this.snackBar=i,this.googleLoginOptions={scope:"profile email"}}signInWithGoogle(){console.log(l.b),this.authService.signIn(l.b.PROVIDER_ID,this.googleLoginOptions).then(r=>{console.log(r),this.commonService.post(c.a.socialLogin,{idToken:r.idToken,accessToken:r.authToken}).subscribe(r=>F(this,void 0,void 0,(function*(){console.log(r),this.snackBar.open("You logged successfully!","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),localStorage.setItem("user",JSON.stringify(r.user)),localStorage.setItem("token",r.user.token),this.router.navigate(["/users"])})),r=>{console.log(r)})}).catch(r=>{console.log(r),this.authService.signOut()})}signInWithFB(){console.log(l.a),this.authService.signIn(l.a.PROVIDER_ID).then(r=>{console.log("facebook login data",r)}).catch(r=>{console.log(r),this.authService.signOut()})}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",i.r.compose([i.r.required,a.a])],password:["",i.r.compose([i.r.required,i.r.minLength(6)])]}),this.registerForm=this.formBuilder.group({name:["",i.r.compose([i.r.required,i.r.minLength(3)])],lastName:["",i.r.compose([i.r.required,i.r.minLength(3)])],email:["",i.r.compose([i.r.required,a.a])],userName:["",i.r.compose([i.r.required,i.r.minLength(3)])],companyName:[""],password:["",i.r.required],confirmPassword:["",i.r.required]},{validator:Object(a.b)("password","confirmPassword")})}onLoginFormSubmit(r){this.loginForm.valid&&this.commonService.post(c.a.login,{email:this.loginForm.value.email,password:this.loginForm.value.password}).subscribe(r=>F(this,void 0,void 0,(function*(){console.log(r),this.snackBar.open("You logged successfully!","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),localStorage.setItem("user",JSON.stringify(r.user)),localStorage.setItem("token",r.token),this.router.navigate(["/users"])})),r=>{console.log(r),this.snackBar.open(r.message,"\xd7",{panelClass:"danger",verticalPosition:"top",duration:3e3})})}onRegisterFormSubmit(r){console.log(this.registerForm.value),this.registerForm.value.phone="1234567890",this.registerForm.valid&&this.commonService.post(c.a.register,this.registerForm.value).subscribe(r=>F(this,void 0,void 0,(function*(){console.log(r),this.snackBar.open("You registered successfully!","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.commonService.post(c.a.login,{email:this.registerForm.value.email,password:this.registerForm.value.password}).subscribe(r=>F(this,void 0,void 0,(function*(){console.log(r),this.snackBar.open("You logged successfully!","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),localStorage.setItem("user",JSON.stringify(r.user)),localStorage.setItem("token",r.token),this.router.navigate(["/users"])})),r=>{console.log(r),this.snackBar.open(r.message,"\xd7",{panelClass:"danger",verticalPosition:"top",duration:3e3})})})),r=>{console.log(r),this.snackBar.open(r.message,"\xd7",{panelClass:"danger",verticalPosition:"top",duration:3e3})})}}return r.\u0275fac=function(o){return new(o||r)(u.Ob(u.B),u.Ob(i.d),u.Ob(m.a),u.Ob(l.c),u.Ob(n.c),u.Ob(g.a))},r.\u0275cmp=u.Ib({type:r,selectors:[["app-sign-in"]],viewQuery:function(r,o){var e;1&r&&u.Ac(T,!0),2&r&&u.rc(e=u.dc())&&(o.loginElement=e.first)},decls:66,vars:21,consts:[["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-sm","50",1,"p-2"],[1,"text-muted","text-center"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100","mt-2"],["matInput","","placeholder","Email","formControlName","email","required",""],[4,"ngIf"],["appearance","outline",1,"w-100","mt-1"],["matInput","","placeholder","Password","formControlName","password","type","password","required",""],[1,"text-center","mt-2"],["mat-fab","","color","primary",1,"mat-elevation-z6",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mt-3"],[1,"divider","w-100"],[1,"text-muted","auth"],[1,"text-center","py-2"],["viewBox","0 0 24 24","matTooltip","Facebook",1,"social-icon",3,"click"],["d","M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M18,5H15.5A3.5,3.5 0 0,0 12,8.5V11H10V14H12V21H15V14H18V11H15V9A1,1 0 0,1 16,8H18V5Z"],["viewBox","0 0 24 24","matTooltip","Twitter",1,"social-icon"],["d","M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M17.71,9.33C18.19,8.93 18.75,8.45 19,7.92C18.59,8.13 18.1,8.26 17.56,8.33C18.06,7.97 18.47,7.5 18.68,6.86C18.16,7.14 17.63,7.38 16.97,7.5C15.42,5.63 11.71,7.15 12.37,9.95C9.76,9.79 8.17,8.61 6.85,7.16C6.1,8.38 6.75,10.23 7.64,10.74C7.18,10.71 6.83,10.57 6.5,10.41C6.54,11.95 7.39,12.69 8.58,13.09C8.22,13.16 7.82,13.18 7.44,13.12C7.81,14.19 8.58,14.86 9.9,15C9,15.76 7.34,16.29 6,16.08C7.15,16.81 8.46,17.39 10.28,17.31C14.69,17.11 17.64,13.95 17.71,9.33Z"],["viewBox","0 0 24 24","matTooltip","Google",1,"social-icon",3,"click"],["d","M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M19.5,12H18V10.5H17V12H15.5V13H17V14.5H18V13H19.5V12M9.65,11.36V12.9H12.22C12.09,13.54 11.45,14.83 9.65,14.83C8.11,14.83 6.89,13.54 6.89,12C6.89,10.46 8.11,9.17 9.65,9.17C10.55,9.17 11.13,9.56 11.45,9.88L12.67,8.72C11.9,7.95 10.87,7.5 9.65,7.5C7.14,7.5 5.15,9.5 5.15,12C5.15,14.5 7.14,16.5 9.65,16.5C12.22,16.5 13.96,14.7 13.96,12.13C13.96,11.81 13.96,11.61 13.89,11.36H9.65Z"],["fxFlex","100","fxFlex.gt-sm","50","ngClass.sm","mt-2","ngClass.xs","mt-2",1,"p-2"],["matInput","","placeholder","First Name","formControlName","name","required",""],["matInput","","placeholder","Last Name","formControlName","lastName","required",""],["matInput","","placeholder","User Name","formControlName","userName","required",""],["matInput","","placeholder","Company Name","formControlName","companyName"],["matInput","","placeholder","Password","formControlName","password","type","password","minlength","6","required",""],["matInput","","placeholder","Confirm Password","formControlName","confirmPassword","type","password","required",""]],template:function(r,o){1&r&&(u.Ub(0,"mat-card"),u.Ub(1,"div",0),u.Ub(2,"div",1),u.Ub(3,"h2",2),u.Ec(4,"Sign In"),u.Tb(),u.Ub(5,"form",3),u.cc("ngSubmit",(function(){return o.onLoginFormSubmit(o.loginForm.value)})),u.Ub(6,"mat-form-field",4),u.Pb(7,"input",5),u.Cc(8,U,2,0,"mat-error",6),u.Cc(9,I,2,0,"mat-error",6),u.Tb(),u.Ub(10,"mat-form-field",7),u.Pb(11,"input",8),u.Cc(12,P,2,0,"mat-error",6),u.Cc(13,E,2,0,"mat-error",6),u.Tb(),u.Ub(14,"div",9),u.Ub(15,"button",10),u.cc("click",(function(){return o.onLoginFormSubmit(o.loginForm.value)})),u.Ub(16,"mat-icon"),u.Ec(17,"exit_to_app"),u.Tb(),u.Tb(),u.Tb(),u.Ub(18,"div",11),u.Pb(19,"div",12),u.Ub(20,"h3",13),u.Ec(21,"or Sign in with one click"),u.Tb(),u.Pb(22,"div",12),u.Tb(),u.Ub(23,"div",14),u.fc(),u.Ub(24,"svg",15),u.cc("click",(function(){return o.signInWithFB()})),u.Pb(25,"path",16),u.Tb(),u.Ub(26,"svg",17),u.Pb(27,"path",18),u.Tb(),u.Ub(28,"svg",19),u.cc("click",(function(){return o.signInWithGoogle()})),u.Pb(29,"path",20),u.Tb(),u.Tb(),u.Ec(30),u.hc(31,"json"),u.Tb(),u.Tb(),u.ec(),u.Ub(32,"div",21),u.Ub(33,"h2",2),u.Ec(34,"Don't have an account? Sign up now!"),u.Tb(),u.Ub(35,"form",3),u.cc("ngSubmit",(function(){return o.onRegisterFormSubmit(o.registerForm.value)})),u.Ub(36,"mat-form-field",4),u.Pb(37,"input",22),u.Cc(38,N,2,0,"mat-error",6),u.Cc(39,B,2,0,"mat-error",6),u.Tb(),u.Ub(40,"mat-form-field",4),u.Pb(41,"input",23),u.Cc(42,q,2,0,"mat-error",6),u.Cc(43,S,2,0,"mat-error",6),u.Tb(),u.Ub(44,"mat-form-field",7),u.Pb(45,"input",5),u.Cc(46,k,2,0,"mat-error",6),u.Cc(47,x,2,0,"mat-error",6),u.Tb(),u.Ub(48,"mat-form-field",4),u.Pb(49,"input",24),u.Cc(50,y,2,0,"mat-error",6),u.Cc(51,V,2,0,"mat-error",6),u.Tb(),u.Ub(52,"mat-form-field",4),u.Pb(53,"input",25),u.Tb(),u.Ub(54,"mat-form-field",7),u.Pb(55,"input",26),u.Cc(56,H,2,0,"mat-error",6),u.Cc(57,L,2,0,"mat-error",6),u.Tb(),u.Ub(58,"mat-form-field",7),u.Pb(59,"input",27),u.Cc(60,A,2,0,"mat-error",6),u.Cc(61,O,2,0,"mat-error",6),u.Tb(),u.Ub(62,"div",9),u.Ub(63,"button",10),u.cc("click",(function(){return o.onRegisterFormSubmit(o.registerForm.value)})),u.Ub(64,"mat-icon"),u.Ec(65,"person_add"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&r&&(u.Bb(5),u.mc("formGroup",o.loginForm),u.Bb(3),u.mc("ngIf",null==o.loginForm.controls.email.errors?null:o.loginForm.controls.email.errors.required),u.Bb(1),u.mc("ngIf",o.loginForm.controls.email.hasError("invalidEmail")),u.Bb(3),u.mc("ngIf",null==o.loginForm.controls.password.errors?null:o.loginForm.controls.password.errors.required),u.Bb(1),u.mc("ngIf",o.loginForm.controls.password.hasError("minlength")),u.Bb(17),u.Gc(" ",u.ic(31,19,o.guser)," "),u.Bb(5),u.mc("formGroup",o.registerForm),u.Bb(3),u.mc("ngIf",null==o.registerForm.controls.name.errors?null:o.registerForm.controls.name.errors.required),u.Bb(1),u.mc("ngIf",o.registerForm.controls.name.hasError("minlength")),u.Bb(3),u.mc("ngIf",null==o.registerForm.controls.lastName.errors?null:o.registerForm.controls.lastName.errors.required),u.Bb(1),u.mc("ngIf",o.registerForm.controls.lastName.hasError("minlength")),u.Bb(3),u.mc("ngIf",null==o.registerForm.controls.email.errors?null:o.registerForm.controls.email.errors.required),u.Bb(1),u.mc("ngIf",o.registerForm.controls.email.hasError("invalidEmail")),u.Bb(3),u.mc("ngIf",null==o.registerForm.controls.userName.errors?null:o.registerForm.controls.userName.errors.required),u.Bb(1),u.mc("ngIf",o.registerForm.controls.userName.hasError("minlength")),u.Bb(5),u.mc("ngIf",null==o.registerForm.controls.password.errors?null:o.registerForm.controls.password.errors.required),u.Bb(1),u.mc("ngIf",o.registerForm.controls.password.hasError("minlength")),u.Bb(3),u.mc("ngIf",null==o.registerForm.controls.confirmPassword.errors?null:o.registerForm.controls.confirmPassword.errors.required),u.Bb(1),u.mc("ngIf",o.registerForm.controls.confirmPassword.hasError("mismatchedPasswords")))},directives:[b.a,d.c,d.a,i.s,i.m,i.f,p.c,f.b,i.c,i.l,i.e,i.q,t.m,h.b,v.a,d.b,w.a,C.a,i.h,p.b],pipes:[t.g],styles:[".auth[_ngcontent-%COMP%]{white-space:nowrap;padding:7px 14px;font-weight:500}  .mat-form-field-outline-start{border-radius:28px 0 0 28px!important;min-width:28px!important}  .mat-form-field-outline-end{border-radius:0 28px 28px 0!important}"]}),r})(),pathMatch:"full"}];let G=(()=>{class r{}return r.\u0275mod=u.Mb({type:r}),r.\u0275inj=u.Lb({factory:function(o){return new(o||r)},imports:[[t.c,n.f.forChild(M),i.p,s.a]]}),r})()}}]);